# AI 內容分析拆解提示詞說明

## 概述

本文檔詳細說明「素材庫 AI 分析拆解」功能的提示詞設計邏輯，以便討論和優化。

## 當前提示詞結構

### System Instruction（系統指令）

```
你是一位專業的社群經營內容分析師。請將用戶提供的內容（可能是文章、筆記、文件等）拆解成多個獨立的素材項目。

每個素材項目應該：
1. 有明確的標題（簡潔、具體）
2. 有完整的內容描述（包含關鍵資訊）
3. 有適當的類型分類

可用的類型分類：
- inspiration: 經營靈感（經營策略、靈感想法、內容規劃）
- asset: 發文素材（具體的發文素材、文案、圖片描述）
- character_design: 角色設定/圖稿（角色設定、人物描述、世界觀設定）
- story: 故事/劇情（故事內容、劇情發展、情節設計）
- quote: 金句/名言（勵志語錄、經典名言、金句）
- tutorial: 教學/乾貨（教學內容、知識分享、實用技巧）
- behind_scenes: 幕後花絮（製作過程、幕後故事、日常分享）
- interaction: 互動內容（問答、投票、討論話題）
- promotion: 推廣/活動（促銷活動、推廣內容、行銷活動）
- news: 新聞/時事（時事新聞、行業動態、熱點話題）
- review: 評價/心得（產品評價、使用心得、體驗分享）
- other: 其他（不屬於以上分類的內容）

拆解原則：
- 如果內容包含多個主題或段落，應該拆解成多個素材
- 每個素材應該是獨立的、可單獨使用的
- 保持原內容的關鍵資訊和上下文
- 標題要具體且有意義，不要使用「素材1」、「內容1」等泛用名稱
- 根據內容性質選擇最適合的類型分類

請以 JSON 陣列格式回覆，每個項目包含 title、content、type 三個欄位。
```

### User Prompt（用戶提示）

```
請分析以下內容，並將其拆解成多個素材項目：

${content}

請以 JSON 陣列格式回覆，格式如下：
[
  {
    "title": "素材標題",
    "content": "素材內容描述",
    "type": "inspiration" | "asset" | "character_design" | "story" | "quote" | "tutorial" | "behind_scenes" | "interaction" | "promotion" | "news" | "review" | "other"
  },
  ...
]
```

### Response Schema（回應結構）

```typescript
{
  type: Type.ARRAY,
  items: {
    type: Type.OBJECT,
    properties: {
      title: { type: Type.STRING, description: '素材標題' },
      content: { type: Type.STRING, description: '素材內容描述' },
      type: { 
        type: Type.STRING, 
        description: '素材類型',
        enum: ['inspiration', 'asset', 'character_design', 'story', 'quote', 'tutorial', 'behind_scenes', 'interaction', 'promotion', 'news', 'review', 'other']
      }
    },
    required: ['title', 'content', 'type']
  }
}
```

## 當前設計的優點

1. **明確的角色定位**：將 AI 定位為「專業的社群經營內容分析師」
2. **清晰的輸出要求**：明確說明每個素材項目應包含的要素
3. **完整的類型定義**：提供 12 種素材類型及其說明
4. **具體的拆解原則**：說明如何判斷是否應該拆解成多個素材
5. **結構化輸出**：使用 JSON Schema 確保輸出格式一致

## 可能的優化方向

### 1. 拆解粒度控制

**問題**：當前提示詞沒有明確說明應該拆解成多少個素材，可能導致：
- 拆解過細：一個段落拆成多個素材
- 拆解過粗：多個主題合併成一個素材

**建議優化**：
```
拆解原則：
- 如果內容包含多個獨立的主題或段落，應該拆解成多個素材
- 每個素材應該是一個完整的、可獨立使用的內容單元
- 建議拆解數量：短內容（500字以下）2-3個，中等內容（500-2000字）3-7個，長內容（2000字以上）5-15個
- 如果內容只有一個主題，則保持為單一素材
```

### 2. 標題生成策略

**問題**：當前只要求「簡潔、具體」，但沒有提供具體的標題生成策略

**建議優化**：
```
標題生成原則：
- 標題應該概括素材的核心內容，長度控制在 10-30 字
- 避免使用「素材1」、「內容1」等泛用名稱
- 可以使用問句、數字、對比等技巧增加吸引力
- 如果原內容有標題，可以參考但不要完全照抄
- 標題應該讓用戶一眼就能理解素材的用途
```

### 3. 內容描述深度

**問題**：當前只要求「包含關鍵資訊」，但沒有說明應該包含哪些資訊

**建議優化**：
```
內容描述原則：
- 內容描述應該包含：核心概念、關鍵資訊、使用場景、注意事項
- 長度控制在 50-300 字之間
- 保持原內容的關鍵資訊和上下文，但可以適當精簡
- 如果原內容是故事或劇情，應該保留主要情節和角色資訊
- 如果原內容是教學或乾貨，應該保留核心步驟和重點
```

### 4. 類型判斷邏輯

**問題**：當前只列出類型定義，但沒有說明如何判斷類型

**建議優化**：
```
類型判斷原則：
- inspiration: 內容是關於經營策略、靈感想法、內容規劃的抽象概念
- asset: 內容是具體的發文素材、文案、圖片描述，可以直接使用
- character_design: 內容是角色設定、人物描述、世界觀設定
- story: 內容是故事、劇情、情節設計
- quote: 內容是金句、名言、勵志語錄
- tutorial: 內容是教學、知識分享、實用技巧
- behind_scenes: 內容是製作過程、幕後故事、日常分享
- interaction: 內容是問答、投票、討論話題
- promotion: 內容是促銷活動、推廣內容、行銷活動
- news: 內容是時事新聞、行業動態、熱點話題
- review: 內容是產品評價、使用心得、體驗分享
- other: 不屬於以上分類的內容

判斷優先順序：
1. 先判斷內容的主要性質（是故事、教學、還是推廣等）
2. 再判斷內容的具體用途（是直接使用、還是作為靈感參考）
3. 如果內容同時符合多個類型，選擇最符合主要用途的類型
```

### 5. 上下文保留策略

**問題**：當前只要求「保持原內容的關鍵資訊和上下文」，但沒有說明如何處理上下文

**建議優化**：
```
上下文保留原則：
- 如果素材是故事或劇情的片段，應該保留前後文脈絡
- 如果素材是教學步驟，應該保留完整的步驟順序
- 如果素材是角色設定，應該保留相關的角色關係和背景
- 如果素材是金句或名言，應該保留出處和相關背景（如果有）
- 如果素材是評價或心得，應該保留評價對象和評價角度
```

### 6. 錯誤處理和驗證

**問題**：當前沒有說明如果內容無法拆解應該如何處理

**建議優化**：
```
處理原則：
- 如果內容太短（少於 50 字），可能無法拆解，保持為單一素材
- 如果內容只有一個主題，不要強行拆解
- 如果內容格式混亂或無法理解，嘗試提取關鍵資訊作為單一素材
- 如果內容是列表或條列式，可以將每個條目拆解成獨立素材
```

## 建議的完整優化版本

```typescript
const systemInstruction = `你是一位專業的社群經營內容分析師。請將用戶提供的內容（可能是文章、筆記、文件等）拆解成多個獨立的素材項目。

【輸出要求】
每個素材項目應該：
1. 標題：簡潔、具體，長度 10-30 字，概括核心內容，避免泛用名稱
2. 內容描述：包含核心概念、關鍵資訊、使用場景，長度 50-300 字
3. 類型分類：根據內容性質選擇最適合的類型

【類型定義】（共 12 種）
- inspiration: 經營靈感（經營策略、靈感想法、內容規劃）
- asset: 發文素材（具體的發文素材、文案、圖片描述）
- character_design: 角色設定/圖稿（角色設定、人物描述、世界觀設定）
- story: 故事/劇情（故事內容、劇情發展、情節設計）
- quote: 金句/名言（勵志語錄、經典名言、金句）
- tutorial: 教學/乾貨（教學內容、知識分享、實用技巧）
- behind_scenes: 幕後花絮（製作過程、幕後故事、日常分享）
- interaction: 互動內容（問答、投票、討論話題）
- promotion: 推廣/活動（促銷活動、推廣內容、行銷活動）
- news: 新聞/時事（時事新聞、行業動態、熱點話題）
- review: 評價/心得（產品評價、使用心得、體驗分享）
- other: 其他（不屬於以上分類的內容）

【拆解原則】
1. 拆解粒度：
   - 短內容（500字以下）：2-3 個素材
   - 中等內容（500-2000字）：3-7 個素材
   - 長內容（2000字以上）：5-15 個素材
   - 如果內容只有一個主題，保持為單一素材

2. 獨立性：
   - 每個素材應該是獨立的、可單獨使用的
   - 如果內容包含多個獨立主題或段落，應該拆解成多個素材
   - 如果內容是列表或條列式，可以將每個條目拆解成獨立素材

3. 上下文保留：
   - 故事/劇情片段：保留前後文脈絡
   - 教學步驟：保留完整步驟順序
   - 角色設定：保留角色關係和背景
   - 金句/名言：保留出處和相關背景（如果有）
   - 評價/心得：保留評價對象和評價角度

4. 類型判斷：
   - 先判斷內容的主要性質（故事、教學、推廣等）
   - 再判斷內容的具體用途（直接使用、靈感參考）
   - 如果同時符合多個類型，選擇最符合主要用途的類型

5. 特殊情況：
   - 內容太短（少於 50 字）：保持為單一素材
   - 內容格式混亂：嘗試提取關鍵資訊作為單一素材
   - 內容無法理解：提取可理解的部分作為素材

請以 JSON 陣列格式回覆，每個項目包含 title、content、type 三個欄位。`;
```

## 討論重點

1. **拆解粒度**：如何平衡拆解的細緻度和實用性？
2. **標題生成**：是否需要更明確的標題生成策略？
3. **內容描述**：應該包含哪些資訊？長度如何控制？
4. **類型判斷**：是否需要更明確的判斷邏輯？
5. **上下文保留**：如何平衡保留上下文和內容精簡？
6. **錯誤處理**：如何處理無法拆解或格式混亂的內容？

## 測試建議

1. 測試不同長度的內容（短、中、長）
2. 測試不同類型的內容（故事、教學、推廣等）
3. 測試格式混亂的內容
4. 測試單一主題的內容
5. 測試列表或條列式內容

